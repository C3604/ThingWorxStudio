/* begin copyright text
 *
 * Copyright Â© 2016 PTC Inc., Its Subsidiary Companies, and /or its Partners. All Rights Reserved.
 *
 * end copyright text
 */
function twxToggleButton() {
  return {
    elementTag: 'twx-toggle-button',

    label: 'ves-basic-web-widgets-extension:Toggle Button',

    category: 'basic-html',

    properties: [
      {
          name: 'class',
          label: 'ves-basic-web-widgets-extension:Class',
          datatype: 'string',
          //default: '',
          isBindingTarget: true
      },
      {
        name: 'pressed',
        label: 'ves-basic-web-widgets-extension:Pressed',
        datatype: 'boolean',
        isBindingSource: true,
        isBindingTarget: true,
        default: false
      },
      {
        name: 'notpressed',
        label: 'ves-basic-web-widgets-extension:Not Pressed',
        datatype: 'boolean',
        isBindingSource: true,
        isBindingTarget: true,
        default: true
      },
      {
        name: 'src',
        label: 'ves-basic-web-widgets-extension:Image when Pressed',
        datatype: 'resource_url',
        resource_image: true,
        default: '',
        isBindingTarget: true
      },
      {
        name: 'srcnotpressed',
        label: 'ves-basic-web-widgets-extension:Image when Not Pressed',
        datatype: 'resource_url',
        resource_image: true,
        default: '',
        isBindingTarget: true
      },
      {
        name: 'backgroundColor',
        label: 'ves-basic-web-widgets-extension:Background Color',
        datatype: 'string',
        isBindingTarget: true,
        default: '#c2c2c2'
      },
      {
        name: 'backgroundColorPressed',
        label: 'ves-basic-web-widgets-extension:Background Color Pressed',
        datatype: 'string',
        isBindingTarget: true,
        default: '#000'
      },
      {
        name: 'width',
        label: 'ves-basic-web-widgets-extension:Width',
        datatype: 'string',
        default: '48px'
      },
      {
        name: 'height',
        label: 'ves-basic-web-widgets-extension:Height',
        datatype: 'string',
        default: '48px'
      },
      {
        name: 'visible',
        label: 'ves-basic-web-widgets-extension:Visible',
        datatype: 'boolean',
        default: true,
        isBindingTarget: true
      },
      {
        name: 'disabled',
        label: 'ves-basic-web-widgets-extension:Disabled',
        datatype: 'boolean',
        default: false,
        isBindingTarget: true
      }
    ],

    events: [
      {
        name: 'click',
        label: 'ves-basic-web-widgets-extension:Click'
      },
      {
        name: 'pressed',
        label: 'ves-basic-web-widgets-extension:Pressed'
      },
      {
        name: 'unpressed',
        label: 'ves-basic-web-widgets-extension:Unpressed'
      }
    ],

    designTemplate: function () {
      return '<img class="{{me.class}}" style="width: {{me.width}}; height: {{me.height}}; background: {{me.backgroundColor}}" src="{{me.src}}" />';
    },

    runtimeTemplate: function (props) {
      var tmpl = '<img class="ng-hide {{me.class}}" ng-show="app.fn.isTrue(me.visible)" style="background: {{app.fn.isTrue(me.pressed) ? me.backgroundColorPressed : me.backgroundColor}}; width: {{me.width}}; height: {{me.height}};" src="{{me.pressed ? me.src : me.srcnotpressed}}" ng-click="me.pressed = app.fn.isTrue(me.disabled) ? me.pressed : !app.fn.isTrue(me.pressed); me.notpressed = app.fn.isTrue(me.disabled) ? me.notpressed : !me.pressed; fireEvent(\'click\'); fireEvent((app.fn.isTrue(me.pressed) ? \'pressed\' : \'unpressed\'))" />';
      return tmpl;
    }
  }
}

twxAppBuilder.widget('twxToggleButton', twxToggleButton);
