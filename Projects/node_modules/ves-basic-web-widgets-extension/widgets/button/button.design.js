/* begin copyright text
 *
 * Copyright Â© 2016 PTC Inc., Its Subsidiary Companies, and /or its Partners. All Rights Reserved.
 *
 * end copyright text
 */
function twxButton() {
    var defaultText = 'Button';
    try {
        defaultText = i18next.t('ves-basic-web-widgets-extension:Button');
    }
    catch(e){
        //Running on the server
    }
    return {
        elementTag: 'twx-button',

        label: 'ves-basic-web-widgets-extension:Button',

        category: 'basic-html',

        properties: [
            {
                name: 'text',
                label: 'ves-basic-web-widgets-extension:Text',
                datatype: 'string',
                default: defaultText,
                isBindingTarget: true
            },
            {
                name: 'class',
                label: 'ves-basic-web-widgets-extension:Class',
                datatype: 'string',
                //default: '',
                isBindingTarget: true
            },
            {
                name: 'visible',
                label: 'ves-basic-web-widgets-extension:Visible',
                datatype: 'boolean',
                default: true,
                isBindingTarget: true
            },
            {
                name: 'disabled',
                label: 'ves-basic-web-widgets-extension:Disabled',
                datatype: 'boolean',
                default: false,
                isBindingTarget: true
            },
            {
                name: 'margin',
                label: 'ves-basic-web-widgets-extension:Margin',
                datatype: 'string',
                default: '0px'
            }
        ],

        services: [],

        events: [
            {
                name: 'click',
                label: 'ves-basic-web-widgets-extension:Click'
            }
        ],

        designTemplate: function () {
            return '<button class="button {{me.class}}" style="margin: {{me.margin}};">{{me.text}}</button>';
        },

        runtimeTemplate: function (props) {
            var margin = '';
            if (props.margin) {
                margin = 'margin:'+ props.margin + ';';
            }
            var tmpl = '<button style="'+margin+'" ng-show="app.fn.isTrue(me.visible)" ng-disabled="app.fn.isTrue(me.disabled)" class="ng-hide button {{me.class}}" ng-click="fireEvent(\'click\');">{{me.text}}</button>';
            return tmpl;
        }
    }
}

twxAppBuilder.widget('twxButton', twxButton);
