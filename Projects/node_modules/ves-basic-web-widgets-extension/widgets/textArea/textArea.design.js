/* begin copyright text
 *
 * Copyright Â© 2016 PTC Inc., Its Subsidiary Companies, and /or its Partners. All Rights Reserved.
 *
 * end copyright text
 */
function twxTextArea() {
    return {
        elementTag: 'twx-textarea',

        label: 'ves-basic-web-widgets-extension:Text Area',

        category: 'basic-html',

        properties: [
        {
            name: 'class',
            label: 'ves-basic-web-widgets-extension:Class',
            datatype: 'string',
            //default: '',
            isBindingTarget: true
        },
        {
            name: 'text',
            label: 'ves-basic-web-widgets-extension:Text',
            datatype: 'string',
            default: '',
            isBindingTarget: true,
            isBindingSource: true
        }, 
        {
            name: 'placeholder',
            label: 'ves-basic-web-widgets-extension:Placeholder',
            datatype: 'string',
            default: '',
            isBindingTarget: true
        }, 
        {
            name: 'label',
            label: 'ves-basic-web-widgets-extension:Label',
            datatype: 'string',
            default: ''
        },
        {
            name: 'rows',
            label: 'ves-basic-web-widgets-extension:Rows',
            datatype: 'number',
            validationRegex: '^[\\d]+$',
            min: 1,
            default: 3
        },
        {
            name: 'readonly',
            label: 'ves-basic-web-widgets-extension:Read Only',
            datatype: 'boolean',
            default: false
        },
        {
            name: 'disabled',
            label: 'ves-basic-web-widgets-extension:Disabled',
            datatype: 'boolean',
            default: false,
            isBindingTarget: true
        },
        {
            name: 'maxlength',
            label: 'ves-basic-web-widgets-extension:Max Length',
            datatype: 'number',
            min: 0
        },
        {
            name: 'visible',
            label: 'ves-basic-web-widgets-extension:Visible',
            datatype: 'boolean',
            default: true,
            isBindingTarget: true
        },
          {
            name: 'padding',
            label: 'ves-basic-web-widgets-extension:Padding',
            datatype: 'string',
            default: ''
          },
          {
            name: 'margin',
            label: 'ves-basic-web-widgets-extension:Margin',
            datatype: 'string',
            default: ''
          }
      ],

        events: [
            {
                name: 'change',
                label: 'ves-basic-web-widgets-extension:Value Changed'
            },
            {
              name: 'click',
              label: 'ves-basic-web-widgets-extension:Click'
            }
        ],

        designTemplate: function(props) {
            return '<div class="textarea-widget {{me.class}}" style="margin: {{me.margin}}; padding: {{me.padding}};"><label>{{me.label}}</label><textarea maxlength="{{me.maxlength}}" rows="{{me.rows}}" placeholder="{{me.placeholder}}">{{me.text}}</textarea></div>';
        },

        runtimeTemplate: function(props) {

            var tmpl = '<div ' +
              'ng-show="app.fn.isTrue(me.visible)" ' +
              'class="ng-hide twxTextArea {{me.class}}" ' +
              'style="margin:'+ props.margin +'; padding: '+ props.padding +';"' +
              'ng-click="fireEvent(\'click\');">' +
              '<label>{{me.label}}</label>' +
              '<textarea ' + ((props.disabled === true) ? 'disabled' : '') + ((props.readonly === true) ? 'readonly' : '') + ' maxlength="{{me.maxlength}}" rows="{{me.rows}}" placeholder="{{me.placeholder}}" ' +
              'ng-disabled="app.fn.isTrue(me.disabled)" ' +
              'ng-model="me.text" ' +
              'ng-change="fireEvent(\'change\')"></textarea></div>';
            return tmpl;

        }
    }
}

twxAppBuilder.widget('twxTextArea', twxTextArea);
