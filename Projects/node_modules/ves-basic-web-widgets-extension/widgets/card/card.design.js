/* begin copyright text
 *
 * Copyright Â© 2016 PTC Inc., Its Subsidiary Companies, and /or its Partners. All Rights Reserved.
 *
 * end copyright text
 */
(function(twxAppBuilder){

  function twxCard(){
    return {
      elementTag: 'twx-card',

      label: 'ves-basic-web-widgets-extension:Card',

      category: 'basic-html',

      isContainer: true,

      properties: [
        {
            name: 'class',
            label: 'ves-basic-web-widgets-extension:Class',
            datatype: 'string',
            //default: '',
            isBindingTarget: true
        },
        {
          name: 'header',
          label: 'ves-basic-web-widgets-extension:Header',
          datatype: 'string',
          isBindingTarget: true,
          default: ''
        },
        {
          name: 'footer',
          label: 'ves-basic-web-widgets-extension:Footer',
          datatype: 'string',
          isBindingTarget: true,
          default: ''
        },
        {
          name: 'visible',
          label: 'ves-basic-web-widgets-extension:Visible',
          datatype: 'boolean',
          default: true,
          isBindingTarget: true
        },
        {
          name: 'scrollable',
          label: 'ves-basic-web-widgets-extension:Scrollable',
          datatype: 'boolean',
          default: true,
          isVisible: false
        },
        {
          name: 'margin',
          label: 'ves-basic-web-widgets-extension:Margin',
          datatype: 'string',
          default: '0'
        },
        {
          name: 'padding',
          label: 'ves-basic-web-widgets-extension:Padding',
          datatype: 'string',
          default: '0'
        }

      ],

      designTemplate: function(props){
        return '<div class="card {{me.class}}" style="padding:{{me.padding}}; margin:{{me.margin}};"><twx-container-content></twx-container-content></div>';
      },

      runtimeTemplate: function(props){
        var scrollableClass = (props.scrollable === 'true') ? 'scrollable' : '';
        var tmpl = '<div ng-show="app.fn.isTrue(me.visible)" class="ng-hide card {{me.class}} '+ scrollableClass +'" style="padding:'+ props.padding +'; margin:'+ props.margin +';">';
          if(props.header !== '') {
              tmpl += '<div class="item item-divider">{{me.header}}</div>';
          }
          tmpl += '<twx-container-content></twx-container-content>';
          if(props.footer !== ''){
              tmpl += '<div class="item item-divider">{{me.footer}}</div>';
          }
          tmpl += '</div>';
        return tmpl;
      }
    }
  }

  twxAppBuilder.widget('twxCard', twxCard);

})(twxAppBuilder);