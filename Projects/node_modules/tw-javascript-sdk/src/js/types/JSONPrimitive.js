var TW = TW || {};
TW.SDK = TW.SDK || {};
TW.SDK.Types = TW.SDK.Types || {};

(function () {
    TW.SDK.Types.JSONPrimitive = {
        decode: function(data) {
            TW.SDK.HelperFunctions.validateParameter(data, 'data', ArrayBuffer);

            var decodedString = TW.SDK.Types.StringPrimitive.decode(data);

            return {
                length: decodedString.length,
                content: JSON.parse(decodedString.content)
            };
        },

        encode: function(content) {
            TW.SDK.HelperFunctions.validateParameter(content, 'content', 'object');

            var jsonString = JSON.stringify(content);

            return TW.SDK.Types.StringPrimitive.encode(jsonString);
        },

        getDefaultValue: function() {
            return {};
        }
    };
})();
