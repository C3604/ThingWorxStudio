/* begin copyright text
 *
 * Copyright Â© 2016 PTC Inc., Its Subsidiary Companies, and /or its Partners. All Rights Reserved.
 *
 * end copyright text
 */
(function(twxAppBuilder){

  function twxEmbeddedView(){
    return {
      elementTag: 'twx-embedded-view',

      label: 'ves-ar-extension:Embedded View',

      category: 'ionic-2D',

      isVisibleInPalette: false,

      properties: [
        {
          name: 'viewname',
          label: 'ves-ar-extension:View Name',
          type: 'String',
          default: '',
          visible: true
        },
        {
          name: 'p1',
          label: 'ves-ar-extension:p1',
          type: 'String',
          default: '',
          visible: true,
          isBindingTarget: true
        },
        {
          name: 'p2',
          label: 'ves-ar-extension:p2',
          type: 'String',
          default: '',
          visible: true,
          isBindingTarget: true
        },
        {
          name: 'visible',
          label: 'ves-ar-extension:Visible',
          datatype: 'boolean',
          default: true,
          isBindingTarget: true
        }
      ],

      designTemplate: function(props){
        return 'Embedded View Here';
      },

      runtimeTemplate: function(props){
        var tmpl = '<twx-view-proxy ng-show="app.fn.isTrue(me.visible)" proxy-properties="p1,p2"><ng-include src="me.viewname" onload="childViewProxyLoadedContent();"></ng-include></twx-view-proxy>';
        return tmpl;
      }
    };
  }

  twxAppBuilder.widget('twxEmbeddedView', twxEmbeddedView);

})(twxAppBuilder);