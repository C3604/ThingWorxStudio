/* begin copyright text
 *
 * Copyright Â© 2016 PTC Inc., Its Subsidiary Companies, and /or its Partners. All Rights Reserved.
 *
 * end copyright text
 */
(function (twxAppBuilder) {

  function twxOverlayContainer() {
    return {
      elementTag: 'twx-overlay-container',

      label: 'ves-ar-extension:Panel',

      category: 'ionic-2D',

      outputElementsOnly: true,

      isVisibleInPalette: false,

      isContainer: true,

      properties: [
        {
          name: 'position',
          label: 'ves-ar-extension:Position',
          datatype: 'string',
          default: '',
          editor: 'select',
          options: [
            {label: 'ves-ar-extension:Top', value: 'top'},
            {label: 'ves-ar-extension:Left', value: 'left'},
            {label: 'ves-ar-extension:Center', value: 'center'},
            {label: 'ves-ar-extension:Right', value: 'right'},
            {label: 'ves-ar-extension:Bottom', value: 'bottom'}
          ],
          isVisible: false
        },
        {
          name: 'width',
          label: 'ves-ar-extension:Width',
          datatype: 'string',
          default: '',
          isVisible: function(props){
            return (props.position === 'left' || props.position === 'center' || props.position === 'right');
          }
        },
        {
          name: 'height',
          label: 'ves-ar-extension:Height',
          datatype: 'string',
          default: '',
          isVisible: function (props) {
            return (props.position === 'top' || props.position === 'bottom');
          }
        },
        {
          name: 'class',
          label: 'ves-ar-extension:Class',
          datatype: 'string'
        }
      ],

      designTemplate: function () {
        return '<twx-container-content class="{{me.position}} {{me.class}}" style="width: {{me.width}}; height: {{me.height}};"></twx-container-content>';
      },

      runtimeTemplate: function (properties) {
        var flexWidthValue = '';
        if(properties.width !== ''){
          flexWidthValue = 'flex: 0 0 ' + properties.width;
        }

        var height = '';
        if (properties.height) {
          height = 'height: ' + properties.height + ';';
        }
        var tmpl = '<div class="panel '+ properties.class +' '+ properties.position +'" style="'+height+' '+ flexWidthValue +'"></div>';
        return tmpl;
      }
    };
  }

  twxAppBuilder.widget('twxOverlayContainer', twxOverlayContainer);

})(twxAppBuilder);